{% extends "base.html" %}

{% block body %}
    <nav class="bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-50">
        <div class="w-full">
            <div class="flex justify-between h-16">
                <div class="navbar-brand flex items-center pl-4">
                    <h1 class="text-xl font-semibold text-gray-900">IFT Ignite Portal</h1>
                </div>

                <div class="flex items-center space-x-4 pr-4">
                    {% if session.user_info %}
                        <span class="text-sm text-gray-700">{{ session.user_info.username }}</span>
                    {% endif %}
                    <a href="{{ url_for('auth.logout') }}" class="text-sm text-red-600 hover:text-red-800">
                        Logout
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="content-wrapper pt-16">
        <aside class="sidebar-fixed">
            <nav class="mt-5">
                <div class="space-y-1">
                    {% set navigation_items = [
                        ('dashboard', 'Dashboard', 'M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z'),
                        ('accounts_page', 'Accounts', 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4'),
                        ('contacts_page', 'Contacts', 'M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 715 0z'),
                        ('loans_page', 'Loans', 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1'),
                        ('assets_page', 'Assets', 'M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9L18 10c-.1-.1-.4-.6-.9-1.2L15.8 7c-.1-.1-.8-.7-2.2-.8L4.9 6C4.3 6 4 6.4 4 7v4c0 .6.4 1 1 1h2m0 5h10m-5-5v5'),
                        ('cases_page', 'Cases', 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z')
                    ] %}
                    
                    {% for endpoint, name, icon_path in navigation_items %}
                        <a href="{{ url_for(endpoint) }}"
                           class="sidebar-nav-item {% if request.endpoint == endpoint %}active{% endif %}"
                           data-tooltip="{{ name }}">
                            
                            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="{{ icon_path }}" />
                            </svg>
                        </a>
                    {% endfor %}
                </div>
            </nav>
        </aside>

        <main class="main-content-fixed">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="mb-6 px-6">
                        {% for category, message in messages %}
                            <div class="alert alert-{{ 'danger' if category == 'error' else category }} mb-4">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}
            
            <div class="px-6 py-6">
                {% block content %}{% endblock %}
            </div>
        </main>
    </div>

{% endblock %}